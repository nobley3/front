<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

// [콜백함수] : 나중에 실행하는 함수/ 어떤 함수에 인자로 들어가는 함수

        //main 이라는 함수 매개변수로 x 선언

        function main(x){  
            x(); //콜백함수호출
        }
        //콜백함수 선언
        function sayHi(){
            console.log("안녕");
        }

        main(sayHi);  //세이하이라는 함수는 이 함수를 전달받은 메인함수에 의해서 나중에 불려지니까 이 함수를 콜백함수라 함

        
        
//익명함수  - 보통 콜백함수는 일회성으로 사용하기 때문에 코드의 간결성을 위해 익명함수로 사용한다.    

        function main(x){
            x();
        }
        main(function (){
            console.log("안녕");
        });

 //화살표함수       

        function main(x){
            x();
        }
        main( ()=>{
            console.log("안녕");
        });

//응용
//greetToUser 함수선언
        function greetToUser(greet){ //greet이라는 콜백함수를 매개변수로 받음
            const name = "서예진";  //변수
            greet(name); //콜백함수 호출
        }
//콜백함수 선언
        function greetInKorean(name){
            console.log(name+"님,안녕하세요");
        }
        function greetInEnglish(name){
            console.log("Hi,"+name);
        }
//greetToUser함수 호출   
        greetToUser(greetInKorean);  //=> 서예진님,안녕하세요
        greetToUser(greetInEnglish); //=> hi,서예진


//콜백함수 활용사례

//이벤트 리스너(addEventListener)는 특정 이벤트가 발생했을 때 콜백 함수를 실행하는 메서드이다.

        let button = document.getElementById("button"); // 버튼 요소를 선택

        // 버튼에 클릭 이벤트 리스너를 추가
        button.addEventListener("click", function () { // 콜백 함수
        console.log("Button clicked!"); 
        });

//고차함수

        // 예시 : 배열의 각 요소를 두 배로 곱해서 새로운 배열을 생성하는 콜백 함수 
        let numbers = [1, 2, 3, 4, 5]; // 배열 선언 
        let doubled = []; // 빈 배열 선언 

        // numbers 배열의 각 요소에 대해 콜백 함수 실행 
        numbers.forEach(function (num) { 
            doubled.push(num * 2); // 콜백 함수로 각 요소를 두 배로 곱해서 doubled 배열에 추가 
        }); 

        console.log(doubled); // [2, 4, 6, 8, 10]

//타이머 실행 함수로 사용

        // 3초 후에 콜백 함수 실행
        setTimeout(function () {
        console.log("Time is up!"); // 콜백 함수로 콘솔에 메시지 출력
        }, 3000);


        
    </script>
</head>
<body>
  
</body>
</html>

